(window.webpackJsonp=window.webpackJsonp||[]).push([[218],{644:function(r,t,a){"use strict";a.r(t);var e=a(2),n=Object(e.a)({},(function(){var r=this,t=r._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":r.$parent.slotKey}},[t("h1",{attrs:{id:"android-图形系统完全剖析"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#android-图形系统完全剖析"}},[r._v("#")]),r._v(" Android 图形系统完全剖析")]),r._v(" "),t("h2",{attrs:{id:"_1-显示相关的硬件设备"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-显示相关的硬件设备"}},[r._v("#")]),r._v(" 1. 显示相关的硬件设备")]),r._v(" "),t("p",[r._v("从硬件的角度来看，显示涉及到以下成员：")]),r._v(" "),t("ul",[t("li",[r._v("显存：与屏幕对应的一块内存（后面称之为 buffer），用于保存需要显示的图像，通常有固定的规则与格式")]),r._v(" "),t("li",[r._v("SOC：cpu gpu 负责绘制，所谓绘制就是根据 App 的指令（显示一个 View，显示一张图片 ......），计算出 buffer 这块内存中的具体内容。这个过程就叫渲染。显示是复杂的，可能有多个 buffer（典型的 statusbar content navigationbar），soc 中有一个硬件 MDP（高通的名字，其他芯片厂商可能不同）用于将多个 buffer 合成为一个。")]),r._v(" "),t("li",[r._v("DDIC：Dispaly Driver IC，SOC 与 显示屏幕之间的桥梁， SOC负责绘画与多图层的合成，把合成好的数据通过硬件接口按某种协议传输给DDIC，然后DDIC负责把buffer里的数据呈现到屏幕上。目前手机屏幕和SOC间多使用MIPI接口来传输屏幕数据，其实物如下图所示，图中的条状芯片就是负责更新显示屏的显示内容的芯片DDIC, 它一边通过mipi协议和SOC通信，一边把获取到的显示数据写入到显示存储器GRAM内， 屏幕(Panel)通过不停扫描GRAM来不停更新液晶显示点的颜色，实现画面的更新。")]),r._v(" "),t("li",[r._v("屏幕")])]),r._v(" "),t("h2",{attrs:{id:"_2-lcd-时序"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-lcd-时序"}},[r._v("#")]),r._v(" 2. LCD 时序")]),r._v(" "),t("p",[r._v("那么对于 DDIC 来讲它的职责就是按 mipi 协议和 SOC 交互，获取到从 SOC 合成好的一帧画面的数据，然后将数据写入 GRAM,对 GRAM 的写入要符合一定的时序。")]),r._v(" "),t("p",[r._v("水平同步信号（horizonal synchronization），简称 HSync\n垂直同步信号（vertical synchronization），简称 VSync")]),r._v(" "),t("h2",{attrs:{id:"_3-drm"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-drm"}},[r._v("#")]),r._v(" 3. DRM")]),r._v(" "),t("h2",{attrs:{id:"参考资料"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#参考资料"}},[r._v("#")]),r._v(" 参考资料")]),r._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://www.jianshu.com/p/df46e4b39428",target:"_blank",rel:"noopener noreferrer"}},[r._v("Android画面显示流程分析(1)"),t("OutboundLink")],1)]),r._v(" "),t("li",[t("a",{attrs:{href:"https://www.jianshu.com/p/180e1b6d0dcd",target:"_blank",rel:"noopener noreferrer"}},[r._v("Android图形系统篇总结"),t("OutboundLink")],1)]),r._v(" "),t("li",[t("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/253055674",target:"_blank",rel:"noopener noreferrer"}},[r._v("Android图像显示系统（二）GraphicBuffer和Gralloc分析"),t("OutboundLink")],1)])])])}),[],!1,null,null,null);t.default=n.exports}}]);